# =====================================================
# CropFresh Auth Service - Environment Configuration
# =====================================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# -----------------------------------------------------
# Core Settings
# -----------------------------------------------------
NODE_ENV=development
PORT=3001
GRPC_PORT=50051

# -----------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------
DATABASE_URL="postgresql://cropfresh:cropfresh123@localhost:5432/cropfresh_auth?schema=public"

# -----------------------------------------------------
# JWT Authentication
# -----------------------------------------------------
# IMPORTANT: Change in production!
JWT_SECRET=change_me_in_production_use_256_bit_secret

# -----------------------------------------------------
# Valkey/Redis (for OTP storage and rate limiting)
# -----------------------------------------------------
VALKEY_HOST=localhost
VALKEY_PORT=6379
VALKEY_PASSWORD=
# If using TLS for Redis/Valkey in production
# VALKEY_TLS=true

# =====================================================
# EXOTEL SMS OTP (Story 2.1)
# =====================================================
# Get credentials from: https://my.exotel.com
# 
# DEVELOPMENT MODE: Set EXOTEL_ENABLED=false
#   - OTP will be logged to console
#   - No SMS will be sent
#   - Free for testing
#
# PRODUCTION MODE: Set EXOTEL_ENABLED=true
#   - OTP sent via SMS to real phone numbers
#   - Requires valid Exotel account with balance

EXOTEL_ENABLED=false
EXOTEL_ACCOUNT_SID=your_account_sid_here
EXOTEL_APP_ID=your_sms_otp_app_id_here
EXOTEL_APP_SECRET=your_sms_otp_app_secret_here

# How to get Exotel credentials:
# 1. Register at https://my.exotel.com/auth/register
# 2. Go to ExoVerify > Applications > Create SMS OTP App
# 3. Copy the App ID and App Secret
# 4. Account SID is in Dashboard > API Settings

# =====================================================
# RAZORPAY UPI VERIFICATION (Story 2.1)
# =====================================================
# Get credentials from: https://dashboard.razorpay.com
#
# DEVELOPMENT MODE: Set RAZORPAY_ENABLED=false
#   - Only UPI format validation (regex check)
#   - No real UPI verification
#   - Free for testing
#
# PRODUCTION MODE: Set RAZORPAY_ENABLED=true
#   - Real UPI VPA validation via Razorpay API
#   - Requires RazorpayX Lite for VPA validation
#   - NOTE: VPA validation NOT available in test mode

RAZORPAY_ENABLED=false
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your_key_secret_here

# How to get Razorpay credentials:
# 1. Sign up at https://dashboard.razorpay.com
# 2. Go to Settings > API Keys > Generate Key
# 3. Copy Key ID and Key Secret
# 4. For production VPA validation, apply for RazorpayX Lite

# =====================================================
# IFSC Lookup (Free - No credentials needed)
# =====================================================
# Uses public API: https://ifsc.razorpay.com/{ifsc}
# No configuration required
